var googleHybrid=L.tileLayer("http://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),googleStreets=L.tileLayer("http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),googleSat=L.tileLayer("http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),googleTerrain=L.tileLayer("http://{s}.google.com/vt/lyrs=p&x={x}&y={y}&z={z}",{maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]}),LeafIcon=L.Icon.extend({options:{shadowUrl:"images/marker-shadow.png",iconSize:[28,50],shadowSize:[32,55],iconAnchor:[33,55],shadowAnchor:[28,65],popupAnchor:[-3,-27]}}),options={container_width:"300px",container_maxHeight:"350px",group_maxHeight:"80px",exclusive:!0},bing1=new L.BingLayer("AvZ2Z8Jve41V_bnPTe2mw4Xi8YWTyj2eT87tSGSsezrYWiyaj0ldMaVdkyf8aik6",{type:"Aerial"}),bing2=new L.BingLayer("AvZ2Z8Jve41V_bnPTe2mw4Xi8YWTyj2eT87tSGSsezrYWiyaj0ldMaVdkyf8aik6",{type:"Road"});$.ajax({url:"http://localhost/FinalMap_1/php/data.php",method:"GET",dataType:"json",success:function(t){var e=new L.LayerGroup,d=new L.LayerGroup,o=new L.LayerGroup,r=[],a=[],s=[],n=new L.LayerGroup,u=new L.LayerGroup,p=new L.LayerGroup,l=new L.LayerGroup,m=new L.LayerGroup,g=new L.LayerGroup,c=[],h=[],y=[],b=[],F=[],T=[],v=new L.LayerGroup,P=new L.LayerGroup,k=new L.LayerGroup,f=[],w=[],A=[];for(i=0;i<t.length;i++){var C,x=$.trim(t[i].priority),S=$.trim(t[i].Activity),G=$.trim(t[i].status);C=S.includes("FFT_Cash")||S.includes("FFA_Cash")?"images/ffaCash"+x+".svg":S.includes("FFT_Food")||S.includes("FFA_Food")?"images/ffaFood"+x+".svg":S.includes("CMAM")?"images/cmam"+x+".svg":S.includes("SP")?"images/stp"+x+".svg":S.includes("Relief")?"images/relief"+x+".svg":"images/sf"+x+".svg";var R='<table class="table table-bordered table-striped table-hover"><tr><th>Question:</th><th>Response:</th></tr><tr><td>Issue Number:</td><td>'+$.trim(t[i].number)+"</td></tr><tr><td>Issue Priority:</td><td>"+$.trim(t[i].priority)+"</td></td><tr><td> Main Catergory: </td><td>"+$.trim(t[i].IssueCategoty)+"</td></tr><tr><td> Sub Category:</td><td>"+$.trim(t[i].IssueSubCategoty)+"</td></td><tr><td> Description: </td><td>"+$.trim(t[i].Description)+"</td></tr><tr><td>Activity: </td><td>"+S+"</td></tr><tr><td> CP:</td><td>"+$.trim(t[i].CP)+"</td></tr><tr><td> Village/Location Name:</td><td>"+$.trim(t[i].Location)+"</td></tr><tr><td> Reported By:</td><td>"+$.trim(t[i].ReportedBy)+"</td></tr><tr><td> Assisgned To:</td><td>"+$.trim(t[i].AssignedTo)+"</td></tr><tr><td> Last Repondent:</td><td>"+$.trim(t[i].LastPersonResponded)+"</td></tr><tr><td> Current Status:</td><td>"+$.trim(t[i].status)+"</td></tr><tr><td> Reported On:</td><td>"+$.trim(t[i].created)+"</td></tr><tr><td> Last Updated On:</td><td>"+$.trim(t[i].lastupdate)+'</td></tr><tr><td> Link:</td><td><a href="http://me.wfp.org.pk:8003/its/scp/tickets.php?id='+$.trim(t[i].ticket_id+'"> RIRS Access Link</a></td></tr></table>'),M=new LeafIcon({iconUrl:C});x.includes("High")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(e).bindPopup(R),r.push(x)):x.includes("Medium")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(d).bindPopup(R),a.push(x)):(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(o).bindPopup(R),s.push(x)),S.includes("FFT_Cash")||S.includes("FFA_Cash")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(p).bindPopup(R),y.push(S)):S.includes("FFA_Food")||S.includes("FFT_Food")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(u).bindPopup(R),h.push(S)):S.includes("relief")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(l).bindPopup(R),b.push(S)):S.includes("CMAM")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(n).bindPopup(R),c.push(S)):S.includes("SP")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(g).bindPopup(R),T.push(S)):(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(m).bindPopup(R),F.push(S)),G.includes("Open")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(v).bindPopup(R),f.push(S)):G.includes("Resolved")?(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(P).bindPopup(R),w.push(S)):(L.marker([t[i].lattitude,t[i].longitude],{icon:M}).addTo(k).bindPopup(R),A.push(S))}var z=L.layerGroup([e,d,o]),_=[{groupName:"Base Map Style",expanded:!0,layers:{Hybrid:googleHybrid,Streets:googleStreets,Satelite:googleSat,Terain:googleTerrain}},{groupName:"Bing Base Maps",layers:{Satellite:bing1,Road:bing2}}],I=[{groupName:"Priority",expanded:!0,layers:{High:e,Medium:d,Low:o}},{groupName:"Activities",expanded:!0,layers:{CMAM:n,"FFA Cash":p,"FFA Food":u,"School Feeding":m,Relief:l,"Stunting Prevention":g}},{groupName:"Activities",expanded:!0,layers:{CMAM:n,"FFA Cash":p,"FFA Food":u,"School Feeding":m,Relief:l,"Stunting Prevention":g}},{groupName:"Status",expanded:!0,layers:{Open:v,Resolved:P,Closed:k}}],H=L.map("map",{center:[t[6].lattitude,t[6].longitude],zoom:5,layers:[googleTerrain,z]}),Z=L.Control.styledLayerControl(_,I,options);H.addControl(Z);var D=L.control({position:"topleft"});D.onAdd=function(){var t=L.DomUtil.create("div","info legends");return t.innerHTML='<p><b>Priorities</b></p><p><i style="background:rgb(255,0,0)"></i>High ('+r.length+')</p><p><i style="background:rgb(255,255,0)"></i>Medium ('+a.length+')</p><p><i style="background:rgb(91,155,255)"></i>Low ('+s.length+')</p><p><b>Activity Icons</b></p><p><img class="images" src="images/cmam.png" ></img>CMAM</p><img class="images" src="images/sf.png" ></img>FFE</p><img class="images" src="images/relief.png" ></img>Relief</p><img class="images" src="images/stp.png" ></img>Stunting Prev:</p><img class="images" src="images/cash.png" ></img>FFA Cash</p><img class="images" src="images/food.png" ></img>FFA Food</p><p><b>Summary - Status</b></p><p>Open: '+f.length+"</p><p> Resolved: "+w.length+"</p><p> Closed: "+A.length+"</p>",t},D.addTo(H)},error:function(){console.log("Data not loaded")}});
//# sourceMappingURL=app.min.js.map